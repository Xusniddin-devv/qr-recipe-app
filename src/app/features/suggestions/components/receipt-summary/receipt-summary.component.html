@if (!summary) {
<app-loading-indicator message="Loading summary..."></app-loading-indicator>
} @else if (summary.length === 0) {
<app-empty-state
  icon="receipt"
  title="No receipt data available."
  description="Scan a receipt to see the summary and get suggestions."
  [showScanButton]="true"
  (actionClicked)="onScanClick()"
>
</app-empty-state>
} @else {
<div class="summary-container mb-6">
  <h3 class="section-title text-lg sm:text-xl font-semibold mb-3 text-gray-700">
    Current Receipt
  </h3>
  <div class="grid gap-2 mb-6">
    @for (item of summary; track item.name) {
    <div
      class="grid grid-cols-2 items-center p-3 bg-gray-50 rounded-lg shadow-sm"
    >
      <span class="font-medium text-gray-800 text-sm sm:text-base">{{
        item.name
      }}</span>
      <span class="text-gray-600 text-right text-sm sm:text-base">
        @if (item.quantity !== null && item.quantity !== undefined) { @if
        (isItemPriceNaN(item.quantity)) {
        {{ item.quantity }}
        } @else {
        {{ item.quantity | currency : "UZS " : "symbol" : "1.0-0" }}
        } } @else if (item.price !== null && item.price !== undefined) { @if
        (isItemPriceNaN(item.price)) {
        {{ item.price }}
        } @else {
        {{ item.price | currency : "UZS " : "symbol" : "1.0-0" }}
        } }
      </span>
    </div>
    }
  </div>
</div>
}
